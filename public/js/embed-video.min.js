!function(){function a(a){var b=a.split("/"),c=b.slice(-1).toString();return c}function b(a){var b=/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#\&\?]*).*/i,c=a.match(b);return c&&11===c[7].length?c[7]:null}function c(c){var d={};return-1!==c.search(/youtu\.?be/i)?(d.videoID=b(c),d.videoSource="youtube"):-1!==c.search("vimeo")&&(d.videoID=a(c),d.videoSource="vimeo"),d}function d(a,b){switch(b.videoSource){case"youtube":$videoIframe='<iframe src="https://www.youtube.com/embed/'+b.videoID+'" frameborder="0" allowfullscreen></iframe>';break;case"vimeo":$videoIframe='<iframe src="https://player.vimeo.com/video/'+b.videoID+'" frameborder="0" mozallowfullscreen allowfullscreen></iframe>';break;default:return!1}$(a).find(".placeholders .glyphicon").hide(),$(a).append($videoIframe)}$(window).load(function(){$(".embed-video-wrapper input").each(function(){var a=$(this);if(a.data("oldVal",a.val()),""!==a.val()){var b=c(a.val());if(null!==b){var e=$(this).parents(".embed-video-wrapper").find(".preview-box");d(e,b)}}a.on("propertychange change click keyup input paste",function(){if(a.data("oldVal")!==a.val()){e=$(this).parents(".embed-video-wrapper").find(".preview-box"),$(this).parents(".embed-video-wrapper").find("iframe").remove(),e.find(".placeholders .glyphicon").show(),e.find(".placeholders .error").hide(),a.removeClass("has-error"),a.data("oldVal",a.val());var b=c(a.val());Object.keys(b).length?d(e,b):""!==a.val()&&(e.find(".placeholders .idle").hide(),e.find(".placeholders .error").show(),a.addClass("has-error"))}})})})}();